<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>ë°”ë¥¸ ê²° - ìì„¸ ì¸¡ì •</title>
    <style>
        :root { --main-green: #556B2F; --text-light: #DDD; --text-dark: #333; --bg-dark: #1A1A1A; }
        body { margin: 0; padding: 0; background: var(--bg-dark); font-family: -apple-system, sans-serif; overflow: hidden; display: flex; flex-direction: column; align-items: center; justify-content: space-between; height: 100vh; color: var(--text-light); }
        
        .header { width: 100%; text-align: center; padding-top: 60px; }
        .header h1 { font-size: 24px; color: var(--text-light); margin: 0 0 10px; }
        .header p { font-size: 15px; color: #AAA; margin: 0; }

        .camera-view-container { 
            flex: 1; display: flex; align-items: center; justify-content: center; 
            position: relative; width: 100%; max-width: 400px; 
            margin: 20px 0;
        }
        /* ì‚¬ìš©ìì˜ ì–¼êµ´ì´ ë‚˜ì˜¤ì§€ ì•Šê²Œ ë°°ê²½ ì²˜ë¦¬ + ê°€ì´ë“œ */
        .camera-placeholder { 
            width: 90%; height: 90%; border: 2px dashed rgba(255,255,255,0.3); 
            border-radius: 20px; display: flex; flex-direction: column; align-items: center; justify-content: center;
            background: rgba(0,0,0,0.5); /* ì¹´ë©”ë¼ ë¹„í™œì„± ì‹œ ì–´ë‘ìš´ ë°°ê²½ */
        }
        .camera-placeholder img { width: 100px; opacity: 0.6; margin-bottom: 15px; } /* ê¸°ë¦° ì•„ì´ì½˜ */
        .camera-placeholder p { font-size: 14px; color: #888; text-align: center; line-height: 1.4; }

        .feedback-message { 
            position: absolute; bottom: 20px; background: rgba(0,0,0,0.7); 
            padding: 10px 20px; border-radius: 30px; font-size: 16px; 
            color: var(--main-green); font-weight: bold;
            opacity: 0; transition: opacity 0.5s ease-in-out;
        }
        .feedback-message.show { opacity: 1; }

        .progress-bar { width: 80%; height: 8px; background: rgba(255,255,255,0.2); border-radius: 4px; margin-bottom: 30px; position: relative; }
        .progress-bar-fill { height: 100%; width: 0%; background: var(--main-green); border-radius: 4px; transition: width 1s linear; }

        /* ê°€ìƒì˜ ê¸°ë¦° ì•„ì´ì½˜ (ì„ì‹œ) */
        .icon-giraffe {
            display: inline-block;
            width: 24px;
            height: 24px;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="%23888" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 21.5C12 21.5 12 19 12 18C12 17 10 15 8 15C6 15 4 17 4 18C4 19 4 21.5 4 21.5"></path><path d="M20 21.5C20 21.5 20 19 20 18C20 17 18 15 16 15C14 15 12 17 12 18C12 19 12 21.5 12 21.5"></path><path d="M12 3C14 3 16 5 16 7C16 9 14 11 12 11C10 11 8 9 8 7C8 5 10 3 12 3Z"></path><path d="M12 11V18"></path><path d="M8 18L4 21.5"></path><path d="M16 18L20 21.5"></path></svg>');
            background-repeat: no-repeat;
            background-position: center;
            background-size: contain;
            vertical-align: middle;
            margin-right: 5px;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ë°”ë¥¸ ê²° - ìì„¸ ì¸¡ì •</h1>
        <p>ì •ë©´ì„ ë°”ë¼ë³´ë©° ìì„¸ë¥¼ ìœ ì§€í•´ì£¼ì„¸ìš”</p>
    </div>

    <div class="camera-view-container">
        <div class="camera-placeholder">
            <span class="icon-giraffe"></span>
            <p>ì¹´ë©”ë¼ê°€ ì‚¬ìš©ìì˜<br>ìì„¸ë¥¼ ë¶„ì„ ì¤‘ì…ë‹ˆë‹¤.</p>
        </div>
        <div id="feedbackMessage" class="feedback-message"></div>
    </div>

    <div class="progress-bar">
        <div id="progressBarFill" class="progress-bar-fill"></div>
    </div>

    <script>
        const progressBarFill = document.getElementById('progressBarFill');
        const feedbackMessage = document.getElementById('feedbackMessage');
        let progress = 0;
        const totalDuration = 10; // 10ì´ˆ ì¸¡ì •

        const messages = [
            "ğŸ‘ ìì„¸ ì•„ì£¼ ì¢‹ì•„ìš”!",
            "âœ¨ ëª©ì„ ì¡°ê¸ˆ ë” í´ë³¼ê¹Œìš”?",
            "ğŸ’ª ì–´ê¹¨ë¥¼ ì‚´ì§ ë’¤ë¡œ ë‹¹ê²¨ë³´ì„¸ìš”!",
            "âœ… ì™„ë²½í•œ ìì„¸ì…ë‹ˆë‹¤!"
        ];
        let messageIndex = 0;

        const updateProgress = () => {
            progress += (100 / totalDuration); // 1ì´ˆë§ˆë‹¤ ì§„í–‰
            if (progress > 100) progress = 100;
            progressBarFill.style.width = `${progress}%`;

            if (progress % 20 < 10 && progress < 100) { // 2ì´ˆë§ˆë‹¤ ë©”ì‹œì§€ ë³€ê²½ (ë°ëª¨ìš©)
                feedbackMessage.innerText = messages[messageIndex % messages.length];
                feedbackMessage.classList.add('show');
                messageIndex++;
            } else if (progress % 20 >= 10) {
                feedbackMessage.classList.remove('show');
            }

            if (progress >= 100) {
                clearInterval(progressInterval);
                // ì¸¡ì • ì™„ë£Œ í›„ ê°€ìƒì˜ ìì„¸ ë°ì´í„°ë¥¼ report.htmlë¡œ ì „ë‹¬ (ì‹¤ì œëŠ” POST ë°©ì‹)
                const mockResult = {
                    neckStatus: 'good', // good, caution, severe
                    neckAngle: Math.floor(Math.random() * 5) + 3, // 3~7ë„
                    shoulderAlignment: Math.random() > 0.5 ? 'perfect' : 'aligned', // perfect, aligned, slightly_off
                    loadReduction: (Math.random() * 5 + 3).toFixed(1) // 3.0~8.0kg
                };
                localStorage.setItem('bareunGyeolReportData', JSON.stringify(mockResult));
                location.href = 'custom_exercise.html'; // ì´ì œ custom_exercise.htmlë¡œ ì´ë™
            }
        };

        const progressInterval = setInterval(updateProgress, 1000);
    </script>
</body>
</html>
